<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payroll System</title>
<script src="https://kit.fontawesome.com/31822be393.js" crossorigin="anonymous"></script>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #eef1f5;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
    }

    .container {
        background: white;
        width: 95%;
        max-width: 900px;
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    h2 {
        text-align: center;
        margin-bottom: 20px;
        color: #333;
    }

    input {
        width: 100%;
        padding: 10px;
        margin: 6px 0 15px 0;
        border: 1px solid #ccc;
        border-radius: 6px;
        font-size: 16px;
    }

    button {
        padding: 12px 15px;
        margin-right: 10px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
    }

    button:hover { background: #005fcc; }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 25px;
    }

    th, td {
        padding: 10px;
        border: 1px solid #bbb;
        text-align: center;
    }

    th {
        background: #007bff;
        color: white;
    }

    .delete-box {
        margin-top: 20px;
    }
</style>
</head>

<body>
    
    <a href="index.html" style="
   position: fixed;
   top: 20px;
   left: 20px;
   background: #007bff;
   color: white;
   padding: 10px 16px;
   border-radius: 6px;
   text-decoration: none;
   font-weight: bold;
   box-shadow: 0 2px 5px rgba(0,0,0,0.2);
   ">
   ← <i class="fa-solid fa-house"></i> Main Page </a>

<div class="container">
    <h2>Payroll System</h2>

    <!-- INPUT FIELDS -->
    <label>Employee Name:</label>
    <input type="text" id="name">

    <label>Days Worked:</label>
    <input type="number" id="days">

    <label>Daily Rate:</label>
    <input type="number" id="rate">

    <label>Deduction Amount:</label>
    <input type="number" id="deduction">

    <button onclick="addEmployee()">Add Employee</button>

    <!-- DELETE INPUT -->
    <div class="delete-box">
        <label>Enter Line Number to Delete:</label>
        <input type="number" id="deleteLine" placeholder="Line No.">
        <button onclick="deleteEmployee()">Delete</button>
    </div>

    <!-- TABLE -->
    <table>
        <thead>
            <tr>
                <th>No.</th>
                <th>Employee Name</th>
                <th>Days Worked</th>
                <th>Daily Rate</th>
                <th>Gross Pay</th>
                <th>Deduction</th>
                <th>Net Pay</th>
            </tr>
        </thead>
        <tbody id="payrollBody"></tbody>
    </table>
</div>

<script>
let employees = [];

// ADD EMPLOYEE
function addEmployee() {
    let name = document.getElementById("name").value;
    let days = parseInt(document.getElementById("days").value);
    let rate = parseFloat(document.getElementById("rate").value);
    let deduction = parseFloat(document.getElementById("deduction").value);

    if (!name || isNaN(days) || isNaN(rate) || isNaN(deduction)) {
        alert("Please fill out all fields correctly.");
        return;
    }

    let gross = days * rate;
    let net = gross - deduction;

    // Store employee data
    employees.push({
        name: name,
        days: days,
        rate: rate,
        gross: gross,
        deduction: deduction,
        net: net
    });

    updateTable();

    // CLEAR INPUTS
    document.getElementById("name").value = "";
    document.getElementById("days").value = "";
    document.getElementById("rate").value = "";
    document.getElementById("deduction").value = "";
}

// DELETE EMPLOYEE BY LINE NUMBER
function deleteEmployee() {
    let line = parseInt(document.getElementById("deleteLine").value);

    if (isNaN(line) || line < 1 || line > employees.length) {
        alert("Invalid line number.");
        return;
    }

    employees.splice(line - 1, 1); // remove employee
    updateTable();
    document.getElementById("deleteLine").value = "";
}

// UPDATE TABLE DISPLAY
function updateTable() {
    let body = document.getElementById("payrollBody");
    body.innerHTML = "";

    for (let i = 0; i < employees.length; i++) {
        let e = employees[i];

        body.innerHTML += `
            <tr>
                <td>${i + 1}</td>
                <td>${e.name}</td>
                <td>${e.days}</td>
                <td>₱${e.rate.toFixed(2)}</td>
                <td>₱${e.gross.toFixed(2)}</td>
                <td>₱${e.deduction.toFixed(2)}</td>
                <td>₱${e.net.toFixed(2)}</td>
            </tr>
        `;
    }
}
</script>

</body>
</html>
